# お返しコンシェルジュBOT 実装概要

## プロジェクト概要

お返しコンシェルジュBOTは、就職祝いのお返しに悩むユーザーに最適なギフトを提案するAIチャットボットシステムです。

### 主要機能
- AIを活用した自然な対話形式でのヒアリング
- Perplexity APIを使用したギフト検索と提案
- ユーザー情報とギフト履歴の管理

## システムアーキテクチャ

### バックエンド (Rust)
1. メインアプリケーション (`src/app/main.rs`)
   - システムのエントリーポイント
   - APIルーティングの管理
   - ユーザーセッション管理

2. チャットボットモジュール (`src/app/chat/`)
   - 自然言語処理 (`chatbot.rs`)
   - 会話フロー制御 (`conversation_handler.rs`)
   - ユーザー意図の分類 (`intent_classifier.rs`)

3. ギフト推薦システム (`src/app/gift/`)
   - Perplexity APIとの連携
   - ギフト検索と絞り込み
   - 推薦アルゴリズム

4. データベース管理 (`src/app/database/`)
   - ユーザー情報の管理
   - ギフト情報のキャッシュ
   - データの永続化

### インフラストラクチャ
1. コンテナ化 (`src/docker/`)
   - Dockerfileによるアプリケーションのコンテナ化
   - Docker Composeによる開発環境の構築

2. Kubernetes (`src/kubernetes/`)
   - デプロイメント管理
   - サービス設定
   - スケーリング制御

### 国際化対応
- 日本語・英語のリソース管理 (`src/i18n/`)
- メッセージの外部化

## 技術スタック
- バックエンド言語: Rust
- API: Perplexity API
- コンテナ化: Docker
- オーケストレーション: Kubernetes
- データベース: PostgreSQL (予定)

## セキュリティ考慮事項
- 環境変数による機密情報の管理
- ユーザーデータの暗号化
- APIキーの安全な管理
- セキュアな通信プロトコル

## パフォーマンス最適化
- ギフト情報のキャッシング
- データベースクエリの最適化
- コンテナのリソース管理
